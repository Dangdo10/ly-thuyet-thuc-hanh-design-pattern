Observer:
* Định nghĩa sự phụ thuộc một-nhiều giữa các đối tượng sao cho
khi một ối tượng thay đổi trạng thái thì tất cả các đối tượng
phụ thuộc nó cũng thay đổi theo
Tần suất sử dụng: 5* cao.

Theo GPCoder:
Chúng ta không thể nói về Lập trình hướng đối tượng mà không xem
xét trạng thái của các đối tượng. Mẫu thiết kế Observer có thể
được sử dụng bất cứ khi nào mà một đối tượng có sự thay đổi
trạng thai, tất cả các thành phần phụ thuộc của nó sẽ được
thông báo và cập nhật một cách tự động.

Observer có thể đăng ký với hệ thống. Khi hệ thống có sự thay
đổi, hệ thống sẽ thông báo cho Observer biết. Khi không cần
nữa, mẫu Observer sẽ được gỡ khỏi hệ thống.

*Cài đặt Observer
Các thành phần chính:
1. Subject: chứa danh sách các observer, cung cấp phương thức
để có thể thêm và loại bỏ observer.
2. Observer: Định nghĩa một phương thức update() cho các đối
tượng sẽ được subjecct thông báo đến khi có sự thay đổi trạng
thái.
3. ConcreteSubject: Cài đặt các phương thức của Subject, lưu
trữ trạng thái danh sách các ConcreateObserver, gửi thông báo
đến các observer của nó khi có sự thay đổi trạng thái.
4. ConcreteObserver: Cài đặt các phương thức của Observer, lưu
trữ trạng thái của subject, thực thi việc cập nhật để giữ cho
trạng thái đồng nhất với suwbject gửi thông báo đến.

Sự tương tác:
Mỗi ki subject có sự thay đổi trạng thái, nó sẽ duyệt qua danh
sách các observer của nó và gọi phương thức cập nhật trạng
thái ở từng observer, có thể truyền chính nó vào phương thức để
các observer có thể lấy ra trạng thái của nó và xử lý.


====================================
Ví dụ: Observer với ứng dụng Tracking thao tác một Account
Giả sử hệ thống của chúng ta cần theo dõi về tài khoản của người
dùng. Mọi thao tác của người dùng đều cần được ghi log lại, sẽ
thực hiện gửi email thông báo khi tài khoản hết hạn, thực hiện
chặn người dùng nếu truy cập không hợp lệ, ...

Chương trình bao gồm:
Subject: cung cấp các phương thức để thêm, loại bỏ, thông báo
observer.
AccountService: Đóng vai trò là ConcreteSubject, sẽ thông báo
tới tất cả các observer bất cứ khi nào có thao tác của người
dùng liên quan đến đăng nhập, tài khoản hết hạn.
Observer: định nghĩa một phương thức update() cho các đối tượng
sẽ được subject thông báo đến khi có sự thay đổi trạng thái.
Phương thức này chấp nhận đối sô slaf SubjectState, cho phép
các ConcreteObserver sử dụng dữ liệu củ nó.
Logger, Mailer và Protector là các ConcreteObserver. Sau khi
nhận được thông báo rằng có thao tác với user và gọi tới phương
thức update(), các ConcreteObserver sẽ sử dụng dữ liệu SubjectState
để xử lý.
thực hành xem ví dụ ở folder example
